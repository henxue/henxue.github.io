<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=11,IE=10,IE=9,IE=8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<meta name="apple-mobile-web-app-title" content="恨雪博客">
<title>wordpress添加投稿功能并整合KindEditor_恨雪博客 - 专注帝国CMS网站建设及模版制作 | www.henxue.net</title>
<link rel='stylesheet' id='main-css'  href='/skin/xiu/css/style.css' type='text/css' media='all' />
<link rel='canonical' href='wordpress添加投稿功能并整合KindEditor' />
<meta name="keywords" content="" />
<meta name="description" content="wordpress添加投稿功能并整合KindEditor" />
<!--[if lt IE 9]><script src="/skin/xiu/js/html5.js"></script><![endif]-->
</head>
<body>
<section class="container">
  <header class="header">
    <div class="logo"><a href="/" title="恨雪博客 - 专注帝国CMS网站建设及模版制作 | www.henxue.net">恨雪博客</a></div>
    <ul class="nav">
<li><a href="/" target="_self">首页</a></li>
<li><a   href="/tutorials/" target="_blank">帝国教程</a></li>
<li><a   href="/template/" target="_blank">帝国模版</a></li>
<li><a   href="/plug/" target="_blank">插件模块</a></li>
<li><a   href="/news/" target="_blank">业界新闻</a></li>
<li><a class='current'  href="/website/" target="_blank">建站相关</a></li>
<li><a   href="/design/" target="_blank">前端设计</a></li>
<li><a   href="/lnmpa/" target="_blank">LNMPA</a></li>
<li><a   href="/seo/" target="_blank">SEO</a></li>
<li><a   href="/blog/" target="_blank">网络日志</a></li>
    
    </ul>
    <div class="feeds"> <a class="feed feed-rss" rel="external nofollow" href="http://feed.feedsky.com/hengxue" title="Feed订阅恨雪博客" target="_blank">订阅</a> <a class="feed feed-weibo" rel="external nofollow" href="http://weibo.com/hongrongshun" title="关注博主新浪微博" target="_blank">新浪微博</a> <a class="feed feed-tqq" rel="external nofollow" href="http://t.qq.com/rosonho" title="关注博主腾讯微博" target="_blank">腾讯微博</a> <a class="feed feed-weixin" rel="external nofollow" href="javascript:;">关注微信</a> </div>
    <div class="slinks">QQ:415245871</div>
  </header>
  <div class="content-wrap">
    <div class="content">
      <header class="article-header">
        <h1 class="article-title"><a href="/article/134.html">wordpress添加投稿功能并整合KindEditor</a></h1>
        <ul class="article-meta">
          <li>henxue 发布于 4小时前</li>
          <li>分类：<a href="/website/" title="查看建站相关中的全部文章" rel="category tag">建站相关</a></li>
          <li class="post-views">阅读(<script src=/e/public/ViewClick/?classid=5&id=134&addclick=1></script>)</li>
          <li><a href="#pinglun" title="去发表你的看法">评论</a></li>
          <li></li>
        </ul>
      </header>
      <article class="article-content">			<p>很多网站都想开放读者的投稿功能，接受读者的投稿，不仅可以丰富博客的内容，还可以增加与读者之间的沟通，可以说是一举多得的事情，何乐不为呢？WordPress本身并不提供投稿功能，但是WordPress拥有强大的扩展能力，我们可以自己来添加这个功能。</p><p>实现用户投稿，有两种方法，一种是开放后台的注册功能，普通用户注册进去默认设置为投稿者，登陆进去即可添加文章（默认为草稿）；另一种 方法是在前台提供投稿表单，用户填写相应的表格即可。前一种方法实现起来比较简单，基本不需要博主配置太多东西，只是有些博主可能会觉得别扭，不愿让他人 看到自己的博客后台；而后一种方法对投稿者来说方便了很多，博主也不用担心自己博客的后台隐私，只是该方法实现起来比较麻烦，需要配置的东西很多。本文也 只将介绍后一种方法，希望对你有所帮助，当然也只是复制粘贴代码就可以了。</p><h2 id="title-0">一、添加投稿表单</h2><p>1、首先在当前主题的目录下新建一个php文件，命名为tougao-page.php，然后将page.php中的所有代码复制到tougao-page.php中；</p><p>2、删除tougao-page.php开头的所有注释，即 /* 与 */ ，以及它们之间的所有内容；</p><p>3、搜索:the_content，可以查找到类似代码&lt;?php the_content(); ?&gt;，将其替换成<strong>代码一</strong></p><p>如果你在tougao-page.php中找不到the_content，那么你可以查找：get_template_part， 可找到类似代码：&lt;?php get_template_part( &#8216;content&#8217;, &#8216;page&#8217; ); ?&gt;，将content-page.php中的所有代码替换这部分代码即可。再用下面的代码替换&lt;?php the_content(); ?&gt;</p><p><strong>代码一：</strong></p><blockquote><p>&lt;?php the_content(); ?&gt;</p><p>&lt;!&#8211; 关于表单样式，请自行调整&#8211;&gt;<br />&lt;form method=&#8221;post&#8221; action=&#8221;&lt;?php echo $_SERVER["REQUEST_URI"]; ?&gt;&#8221;&gt;<br />&lt;div style=&#8221;text-align: left; padding-top: 10px;&#8221;&gt;<br />&lt;label for=&#8221;tougao_authorname&#8221;&gt;昵称:*&lt;/label&gt;<br />&lt;input type=&#8221;text&#8221; size=&#8221;40&#8243; value=&#8221;" id=&#8221;tougao_authorname&#8221; name=&#8221;tougao_authorname&#8221; /&gt;<br />&lt;/div&gt;</p><p>&lt;div style=&#8221;text-align: left; padding-top: 10px;&#8221;&gt;<br />&lt;label for=&#8221;tougao_authoremail&#8221;&gt;E-Mail:*&lt;/label&gt;<br />&lt;input type=&#8221;text&#8221; size=&#8221;40&#8243; value=&#8221;" id=&#8221;tougao_authoremail&#8221; name=&#8221;tougao_authoremail&#8221; /&gt;<br />&lt;/div&gt;</p><p>&lt;div style=&#8221;text-align: left; padding-top: 10px;&#8221;&gt;<br />&lt;label for=&#8221;tougao_authorblog&#8221;&gt;您的博客:&lt;/label&gt;<br />&lt;input type=&#8221;text&#8221; size=&#8221;40&#8243; value=&#8221;" id=&#8221;tougao_authorblog&#8221; name=&#8221;tougao_authorblog&#8221; /&gt;<br />&lt;/div&gt;</p><p>&lt;div style=&#8221;text-align: left; padding-top: 10px;&#8221;&gt;<br />&lt;label for=&#8221;tougao_title&#8221;&gt;文章标题:*&lt;/label&gt;<br />&lt;input type=&#8221;text&#8221; size=&#8221;40&#8243; value=&#8221;" id=&#8221;tougao_title&#8221; name=&#8221;tougao_title&#8221; /&gt;<br />&lt;/div&gt;</p><p>&lt;div style=&#8221;text-align: left; padding-top: 10px;&#8221;&gt;<br />&lt;label for=&#8221;tougaocategorg&#8221;&gt;分类:*&lt;/label&gt;<br />&lt;?php wp_dropdown_categories(&#8216;hide_empty=0&amp;id=tougaocategorg&amp;show_count=1&amp;hierarchical=1&#8242;); ?&gt;<br />&lt;/div&gt;</p><p>&lt;div style=&#8221;text-align: left; padding-top: 10px;&#8221;&gt;<br />&lt;label style=&#8221;vertical-align:top&#8221; for=&#8221;tougao_content&#8221;&gt;文章内容:*&lt;/label&gt;<br />&lt;textarea rows=&#8221;15&#8243; cols=&#8221;55&#8243; id=&#8221;tougao_content&#8221; name=&#8221;tougao_content&#8221;&gt;&lt;/textarea&gt;<br />&lt;/div&gt;</p><p>&lt;br clear=&#8221;all&#8221;&gt;<br />&lt;div style=&#8221;text-align: center; padding-top: 10px;&#8221;&gt;<br />&lt;input type=&#8221;hidden&#8221; value=&#8221;send&#8221; name=&#8221;tougao_form&#8221; /&gt;<br />&lt;input type=&#8221;submit&#8221; value=&#8221;提交&#8221; /&gt;<br />&lt;input type=&#8221;reset&#8221; value=&#8221;重填&#8221; /&gt;<br />&lt;/div&gt;<br />&lt;/form&gt;</p></blockquote><p>&nbsp;</p><h2 id="title-1">二、添加表单处理代码</h2><p>在tougao-page.php开头处中，将第一个 &lt;?php 改成代码二：</p><blockquote><p>&lt;?php<br />/**<br />* Template Name: tougao<br />* 作者：露兜<br />* 博客：http://www.ludou.org/<br />*<br />* 更新记录<br />*  2010年09月09日 ：<br />*  首个版本发布<br />*<br />*  2011年03月17日 ：<br />*  修正时间戳函数，使用wp函数current_time(&#8216;timestamp&#8217;)替代time()<br />*<br />*  2011年04月12日 ：<br />*  修改了wp_die函数调用，使用合适的页面title<br />*<br />*  2013年01月30日 ：<br />*  错误提示，增加点此返回链接<br />*/</p><p>if( isset($_POST['tougao_form']) &amp;&amp; $_POST['tougao_form'] == &#8217;send&#8217;) {<br />global $wpdb;<br />$current_url = &#8217;http://你的投稿页面地址&#8217;;   // 注意修改此处的链接地址</p><p>$last_post = $wpdb-&gt;get_var(&#8220;SELECT post_date FROM $wpdb-&gt;posts WHERE post_type = &#8217;post&#8217; ORDER BY post_date DESC LIMIT 1&#8243;);</p><p>// 博客当前最新文章发布时间与要投稿的文章至少间隔120秒。<br />// 可自行修改时间间隔，修改下面代码中的120即可<br />// 相比Cookie来验证两次投稿的时间差，读数据库的方式更加安全<br />if ( current_time(&#8216;timestamp&#8217;) - strtotime($last_post) &lt; 120 ) {<br />wp_die(&#8216;您投稿也太勤快了吧，先歇会儿！&lt;a href=&#8221;&#8216;.$current_url.&#8217;&#8221;&gt;点此返回&lt;/a&gt;&#8217;);<br />}</p><p>// 表单变量初始化<br />$name = isset( $_POST['tougao_authorname'] ) ? trim(htmlspecialchars($_POST['tougao_authorname'], ENT_QUOTES)) : &#8221;;<br />$email =  isset( $_POST['tougao_authoremail'] ) ? trim(htmlspecialchars($_POST['tougao_authoremail'], ENT_QUOTES)) : &#8221;;<br />$blog =  isset( $_POST['tougao_authorblog'] ) ? trim(htmlspecialchars($_POST['tougao_authorblog'], ENT_QUOTES)) : &#8221;;<br />$title =  isset( $_POST['tougao_title'] ) ? trim(htmlspecialchars($_POST['tougao_title'], ENT_QUOTES)) : &#8221;;<br />$category =  isset( $_POST['cat'] ) ? (int)$_POST['cat'] : 0;<br />$content =  isset( $_POST['tougao_content'] ) ? trim(htmlspecialchars($_POST['tougao_content'], ENT_QUOTES)) : &#8221;;</p><p>// 表单项数据验证<br />if ( emptyempty($name) || mb_strlen($name) &gt; 20 ) {<br />wp_die(&#8216;昵称必须填写，且长度不得超过20字。&lt;a href=&#8221;&#8216;.$current_url.&#8217;&#8221;&gt;点此返回&lt;/a&gt;&#8217;);<br />}</p><p>if ( emptyempty($email) || strlen($email) &gt; 60 || !preg_match(&#8220;/^([a-z0-9+_-]+)(.[a-z0-9+_-]+)*@([a-z0-9-]+.)+[a-z]{2,6}$/ix&#8221;, $email)) {<br />wp_die(&#8216;Email必须填写，且长度不得超过60字，必须符合Email格式。&lt;a href=&#8221;&#8216;.$current_url.&#8217;&#8221;&gt;点此返回&lt;/a&gt;&#8217;);<br />}</p><p>if ( emptyempty($title) || mb_strlen($title) &gt; 100 ) {<br />wp_die(&#8216;标题必须填写，且长度不得超过100字。&lt;a href=&#8221;&#8216;.$current_url.&#8217;&#8221;&gt;点此返回&lt;/a&gt;&#8217;);<br />}</p><p>if ( emptyempty($content) || mb_strlen($content) &gt; 3000 || mb_strlen($content) &lt; 100) {<br />wp_die(&#8216;内容必须填写，且长度不得超过3000字，不得少于100字。&lt;a href=&#8221;&#8216;.$current_url.&#8217;&#8221;&gt;点此返回&lt;/a&gt;&#8217;);<br />}</p><p>$post_content = &#8217;昵称: &#8217;.$name.&#8217;&lt;br /&gt;Email: &#8217;.$email.&#8217;&lt;br /&gt;blog: &#8217;.$blog.&#8217;&lt;br /&gt;内容:&lt;br /&gt;&#8217;.$content;</p><p>$tougao = array(<br />&#8216;post_title&#8217; =&gt; $title,<br />&#8216;post_content&#8217; =&gt; $post_content,<br />&#8216;post_category&#8217; =&gt; array($category)<br />);</p><p>// 将文章插入数据库<br />$status = wp_insert_post( $tougao );</p><p>if ($status != 0) {<br />// 投稿成功给博主发送邮件<br />// somebody#example.com替换博主邮箱<br />// My subject替换为邮件标题，content替换为邮件内容<br />wp_mail(&#8220;somebody#example.com&#8221;,&#8221;My subject&#8221;,&#8221;content&#8221;);</p><p>wp_die(&#8216;投稿成功！感谢投稿！&lt;a href=&#8221;&#8216;.$current_url.&#8217;&#8221;&gt;点此返回&lt;/a&gt;&#8217;, &#8217;投稿成功&#8217;);<br />}<br />else {<br />wp_die(&#8216;投稿失败！&lt;a href=&#8221;&#8216;.$current_url.&#8217;&#8221;&gt;点此返回&lt;/a&gt;&#8217;);<br />}<br />}</p></blockquote><p>最后以UTF-8编码保存tougao-page.php，否则中文可能会乱码。然后进入WordPress管理后台 – 页面 – 创建页面，标题为投稿（可以自己起名），内容填上投稿说明等，右侧可以选择模板，选择 tougao 即可。</p><p>好了，基本的投稿功能已经添加完毕，至于表单样式不好看，表单缺少你想要的项目等问题，你就自己添加css、表单项吧。最后，也欢迎给本站投稿哦，当然本站的投稿方式是开放后台的注册功能，不是以上的表单形式。</p><h2 id="title-2">代码补充说明</h2><p>1、如果你想让投稿的文章立即发布，而不需要审核再编辑，那么请将以上代码64行改成：</p><blockquote><p>&#8216;post_content&#8217; =&gt; $post_content, &#8217;post_status&#8217; =&gt; &#8217;publish&#8217;,</p></blockquote><p>、如果你想让用户在投稿的同时，将投稿者注册成你本站的投稿者，并将文章的作者归到这个投稿者的名下，你可以参考此条回复的内容修改相应的代码：<a title="投稿注册用户" href="http://www.ludou.org/wordpress-add-contribute-page.html/comment-page-2#comment-3817">查看回复</a>。</p><p>3、如果你的博客文章都有自定义栏目，并且想在用户投稿的同时添加自定义栏目，可以参考这条回复：<a title="投稿添加自定义栏目" href="http://www.ludou.org/wordpress-add-contribute-page.html/comment-page-3#comment-6490">查看回复</a>。</p><p>4、如果你觉得本文提供的文章编辑框太过单调，需要一个富文本编辑，你可以看看这篇文章（包含图片上传功能）：<a title="WordPress投稿功能添加富文本编辑器" href="http://www.ludou.org/tougao-text-editor.html" target="_blank">WordPress投稿功能添加富文本编辑器</a></p><p>5、如果你使用了一些富文本编辑器，文章提交后内容中的代码都被转义了，可以参考这条回复：<a title="文章内容被转义了怎么办" href="http://www.ludou.org/wordpress-add-contribute-page.html/comment-page-3#comment-6659">查看回复</a>。</p><p>6、如果你需要投稿的文章发布后通知投稿者，可以看看这篇文章（前提投稿的文章默认是草稿状态，而不是直接发布）：<a title="WordPress投稿功能添加邮件提醒功能" href="http://www.ludou.org/wordpress-tougao-mail.html" target="_blank">WordPress投稿功能添加邮件提醒功能</a></p><p>7、如果你想给投稿页面增加验证码功能，可以 <a href="http://www.ludou.org/tool/file/captcha-php" target="_blank" rel="nofollow">点此下载</a> 验证码文件，解压后将captcha目录放到当前主题目录下，然后在代码一中，将35行的：</p><blockquote><p>&lt;<a href="http://december.com/html/4/element/br.html">br</a> clear=&#8221;all&#8221;&gt;</p></blockquote><p>改成：</p><blockquote><p>&lt;div style=&#8221;text-align: left; padding-top: 10px;&#8221;&gt;<br />&lt;label for=&#8221;CAPTCHA&#8221;&gt;验证码:<br />&lt;input id=&#8221;CAPTCHA&#8221; style=&#8221;width:110px;*float:left;&#8221; class=&#8221;input&#8221; type=&#8221;text&#8221; tabindex=&#8221;24&#8243; size=&#8221;10&#8243; value=&#8221;" name=&#8221;captcha_code&#8221; /&gt; 看不清？&lt;a href=&#8221;javascript:void(0)&#8221; onclick=&#8221;document.getElementById(&#8216;captcha_img&#8217;).src=&#8217;&lt;?php bloginfo(&#8216;template_url&#8217;); ?&gt;/captcha/captcha.php?&#8217;+Math.random();document.getElementById(&#8216;CAPTCHA&#8217;).focus();return false;&#8221;&gt;点击更换&lt;/a&gt;<br />&lt;/label&gt;<br />&lt;/div&gt;</p><p>&lt;div style=&#8221;text-align: left; padding-top: 10px;&#8221;&gt;<br />&lt;label&gt;<br />&lt;img id=&#8221;captcha_img&#8221; src=&#8221;&lt;?php bloginfo(&#8216;template_url&#8217;); ?&gt;/captcha/captcha.php&#8221; /&gt;<br />&lt;/label&gt;<br />&lt;/div&gt;</p><p>&lt;br clear=&#8221;all&#8221;&gt;</p></blockquote><p>将代码二第21行的：</p><blockquote><p>if( isset($_POST['tougao_form']) &amp;&amp; $_POST['tougao_form'] == &#8217;send&#8217;) {</p></blockquote><p>改成：</p><blockquote><p>if (!isset($_SESSION)) {<br />session_start();<br />session_regenerate_id(TRUE);<br />}</p><p>if( isset($_POST['tougao_form']) &amp;&amp; $_POST['tougao_form'] == &#8217;send&#8217;) {<br />if(emptyempty($_POST['captcha_code'])<br />|| emptyempty($_SESSION['ludou_lcr_secretword'])<br />|| (trim(strtolower($_POST['captcha_code'])) != $_SESSION['ludou_lcr_secretword'])<br />) {<br />wp_die(&#8216;验证码不正确！&lt;a href=&#8221;&#8216;.$current_url.&#8217;&#8221;&gt;点此返回&lt;/a&gt;&#8217;);<br />}</p></blockquote><p>&nbsp;</p><p>&nbsp;</p><p>整合编辑器：</p><h2 id="title-0">一、下载KindEditor</h2><p>这里我们将使用KindEditor来作为我们的编辑器，<a title="KindEditor" href="http://www.kindsoft.net/down.php" target="_blank">点此下载KindEditor</a>。下载后解压，将文件夹重命名为kindeditor，放到你当前主题文件夹下。</p><h2 id="title-1">二、修改HTML页面</h2><p>打开<a title="WordPress添加投稿功能" href="http://www.ludou.org/wordpress-add-contribute-page.html" target="_blank">WordPress添加投稿功能</a>，下面我们将对这篇文章中的代码进行修改。</p><p>将代码一中第41行的&lt;/form&gt;改成：</p><blockquote><p>&lt;/form&gt;<br />&lt;script charset=&#8221;utf-8&#8243; src=&#8221;&lt;?php bloginfo(&#8216;template_url&#8217;); ?&gt;/kindeditor/kindeditor-min.js&#8221;&gt;&lt;/script&gt;<br />&lt;script charset=&#8221;utf-8&#8243; src=&#8221;&lt;?php bloginfo(&#8216;template_url&#8217;); ?&gt;/kindeditor/lang/zh_CN.js&#8221;&gt;&lt;/script&gt;<br />&lt;script&gt;<br />/* 编辑器初始化代码 start */<br />var editor;<br />KindEditor.ready(function(K) {<br />editor = K.create(&#8216;#tougao_content&#8217;, {<br />resizeType : 1,<br />allowPreviewEmoticons : false,<br />allowImageUpload : true, /* 开启图片上传功能，不需要就将true改成false */<br />items : [<br />'fontname', 'fontsize', '|', 'forecolor', 'hilitecolor', 'bold', 'italic', 'underline',<br />'removeformat', '|', 'justifyleft', 'justifycenter', 'justifyright', 'insertorderedlist',<br />'insertunorderedlist', '|', 'emoticons', 'image', 'link']<br />});<br />});<br />/* 编辑器初始化代码 end */<br />&lt;/script&gt;</p></blockquote><h2 id="title-2">三、php代码小修改</h2><p>代码二第40行代码：</p><blockquote><p>$content =  isset( $_POST['tougao_content'] ) ? trim(htmlspecialchars($_POST['tougao_content'], ENT_QUOTES)) : &#8221;;</p></blockquote><p>改成：</p><blockquote><p>$content =  isset( $_POST['tougao_content'] ) ? trim($_POST['tougao_content']) : &#8221;;<br />$content = str_ireplace(&#8216;?&gt;&#8217;, &#8217;?&gt;&#8217;, $content);<br />$content = str_ireplace(&#8216;&lt;?&#8217;, &#8217;&lt;?&#8217;, $content);<br />$content = str_ireplace(&#8216;&lt;script&#8217;, &#8217;&lt;script&#8217;, $content);<br />$content = str_ireplace(&#8216;&lt;a &#8217;, &#8217;&lt;a rel=&#8221;external nofollow&#8221; &#8217;, $content);</p></blockquote><h2 id="title-3">四、自定义编辑器功能</h2><p>经过以上三步的修改，目前你的编辑器就可以正常使用了。但是对不同人来说，他们的需求可能不太一样，有人可能会觉得上面的编辑器太过简单。那么怎样自定义编辑器的功能呢？这里我就不讲编程了，简单点就找编辑器自带的样例来说就行了。</p><p>我们下载的kindeditor目录下有个examples文件夹，这里是部分演示，双击打开index.html可以看到所有演示。你是否看中某个演示呢？那就用文本编辑器打开它的html文件，查看里面的代码。这些html文件的代码中都可以看到类似代码：</p><blockquote><p>&lt;script charset=&#8221;utf-8&#8243; src=&#8221;../kindeditor-min.js&#8221;&gt;&lt;/script&gt;<br />&lt;script charset=&#8221;utf-8&#8243; src=&#8221;../lang/zh_CN.js&#8221;&gt;&lt;/script&gt;<br />&lt;script&gt;<br />&#8230; 编辑器初始化代码<br />&lt;/script&gt;</p></blockquote><p>将以上代码中 <strong>编辑器初始化代码</strong> 那部分代码替换第三步中的编辑器初始化代码，然后将 &#8216;textarea[name="content"]&#8216; ，改成 &#8216;#tougao_content&#8217; 即可。</p><p>好了，添加个编辑器就是这么简单。如果你会编程，或者懂看文档，动手能力强，可以看看KindEditor的文档，自己动手玩玩：<a title="KindEditor文档" href="http://www.kindsoft.net/doc.php" target="_blank">KindEditor文档</a></p>		</article>
      <div class="article-social"> <a href="javascript:;" class="action" data-pid="5429" data-event="like"><i class="glyphicon glyphicon-thumbs-up"></i>赞 (<span>0</span>)</a> <a href="#pinglun" class="action" data-event="login"><i class="glyphicon glyphicon-comment"></i>评论</a> <span class="action action-share bdsharebuttonbox"> <i class="glyphicon glyphicon-share"></i>分享 (<span class="bds_count" data-cmd="count"></span>)
        <div class="action-popover">
          <div class="popover top in">
            <div class="arrow"></div>
            <div class="popover-content"><a class="bds_qzone" data-cmd="qzone"></a><a class="bds_tsina" data-cmd="tsina"></a><a class="bds_weixin" data-cmd="weixin"></a><a class="bds_tqq" data-cmd="tqq"></a><a class="bds_sqq" data-cmd="sqq"></a><a class="bds_renren" data-cmd="renren"></a></div>
          </div>
        </div>
        </span> </div>
      <div class="article-tags"><div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></div>
      <div class="relates">
        <h3 class="title"><strong>相关阅读</strong></h3>
        <ul>
         
        </ul>
      </div>
      <h3 class="title" id="pinglun"></h3>
      <!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread" data-category="5" data-thread-key="134" 
	data-title="wordpress添加投稿功能并整合KindEditor" data-author-key="" data-url=""></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"henxue"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->
<!--<script>
		  function CheckPl(obj)
		  {
		  if(obj.saytext.value=="")
		  {
		  alert("您没什么话要说吗？");
		  obj.saytext.focus();
		  return false;
		  }
		  return true;
		  }
		  </script><form action="/e/pl/doaction.php" method="post" name="saypl" id="saypl" onsubmit="return CheckPl(document.saypl)">
<table width="100%" border="0" cellpadding="0" cellspacing="0" id="plpost">

<tr>
<td><table width="100%" border="0" cellpadding="0" cellspacing="0" class="title">
<tr>
<td><strong>发表评论</strong></td>
<td align="right"><a href="/e/pl/?classid=5&amp;id=134">共有<span><script type="text/javascript" src="/e/public/ViewClick/?classid=5&id=134&down=2"></script></span>条评论</a></td>
</tr>
</table>
<table width="100%" border="0" cellspacing="10" cellpadding="0">
<tr>
<td><table width="100%" border="0" cellpadding="0" cellspacing="2">
<tr>
<td width="56%" align="left">用户名:
<input name="username" type="text" class="inputText" id="username" value="" size="16" /></td>
<td width="44%" align="left">密码:
<input name="password" type="password" class="inputText" id="password" value="" size="16" /></td>
</tr>
<tr>
<td align="left">验证码:
<input name="key" type="text" class="inputText" size="10" />
<img src="/e/ShowKey/?v=pl" align="absmiddle" /> </td>
<td align="left"><input name="nomember" type="checkbox" id="nomember" value="1" checked="checked" />
匿名发表</td>
</tr>
</table>
<textarea name="saytext" rows="6" id="saytext"></textarea><input name="imageField" type="image" src="/e/data/images/postpl.gif"/>
<input name="id" type="hidden" id="id" value="134" />
<input name="classid" type="hidden" id="classid" value="5" />
<input name="enews" type="hidden" id="enews" value="AddPl" />
<input name="repid" type="hidden" id="repid" value="0" />
<input type="hidden" name="ecmsfrom" value="/article/134.html"></td>
</tr>
</table>
</td>
</tr>
</table></form>-->
    </div>
  </div>
  <aside class="sidebar">
    <div class="widget widget_tags">
      <h3 class="title"><strong>热门标签</strong></h3>
      <ul class="widget_tags_inner">
<li><a title="点击查看所有关于站长的文章" href="/tags/../../tags/zhanzhang/">站长</a></li>
<li><a title="点击查看所有关于谷歌的文章" href="/tags/../../tags/google/">谷歌</a></li>
<li><a title="点击查看所有关于百度的文章" href="/tags/../../tags/baidu/">百度</a></li>
 	  
      </ul>
    </div>
    <div class="widget widget_searchbox">
      <h3 class="title"><strong>搜索文章</strong></h3>
<form accept-charset="utf-8" method="get" action="http://www.baidu.com/baidu" target="_blank" class="search-form">
<input type="text" name="word" class="form-control" placeholder="输入关键字" autofocus="" x-webkit-speech="">
<input type="submit" class="btn" value="搜索" name="submit">
        <input type="hidden" value="baidulocal" name="tn">
        <input type="hidden" value="3" name="cl">
        <input type="hidden" value="2097152" name="ct">
        <input type="hidden" value="henxue.net" name="si">
      </form>     
    </div>
    <script src="/d/js/acmsd/thea1.js"></script>
    <div class="widget widget_postlist">
      <h3 class="title"><strong>最新文章</strong></h3>
      <ul>
        
<li><a href="/article/66.html"><span class="thumbnail"><img data-original="" class="thumb"/></span><span class="text">结合项在列表页调用内容字段名称</span><span class="text-muted post-views">阅读(0)</span></a></li>
        
<li><a href="/article/69.html"><span class="thumbnail"><img data-original="" class="thumb"/></span><span class="text">帝国CMS动态页分页标签[!---show.listpage--]的一</span><span class="text-muted post-views">阅读(0)</span></a></li>
        
<li><a href="/article/68.html"><span class="thumbnail"><img data-original="" class="thumb"/></span><span class="text">灵动标签中用if判断第X条附加特殊样式</span><span class="text-muted post-views">阅读(0)</span></a></li>
        
<li><a href="/article/71.html"><span class="thumbnail"><img data-original="" class="thumb"/></span><span class="text">帝国CMS列表模板过滤简介的Html代码</span><span class="text-muted post-views">阅读(0)</span></a></li>
        
<li><a href="/article/70.html"><span class="thumbnail"><img data-original="" class="thumb"/></span><span class="text">帝国CMS修改列表页中当前分页的显示方式</span><span class="text-muted post-views">阅读(0)</span></a></li>
        
<li><a href="/article/73.html"><span class="thumbnail"><img data-original="" class="thumb"/></span><span class="text">帝国CMS中$navinfor和$GLOBALS的一些使用小技巧</span><span class="text-muted post-views">阅读(0)</span></a></li>
  	  
      </ul>
    </div>
  </aside>  
  <footer class="footer"> &copy; 2014 <a href="/">恨雪博客</a> &nbsp; 感谢 <a href="http://www.alibaixiu.com" target="_blank">阿里百秀</a> &nbsp; <a href="/sitemap.xml" target="_blank">网站地图</a> </footer>
  <div class="rollto"><a href="javascript:;"></a></div>
</section>
<script type='text/javascript' src='/skin/xiu/js/jquery.js?ver=1.0.1'></script> 
<script type='text/javascript' src='/skin/xiu/js/bootstrap.js?ver=1.0.1'></script> 
<script type='text/javascript' src='/skin/xiu/js/custom.js?ver=1.0.1'></script>
</body>
</html>