<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=11,IE=10,IE=9,IE=8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<meta name="apple-mobile-web-app-title" content="恨雪博客">
<title>帝国CMS修改信息列表页及信息内容页的分页样式_恨雪博客 - 专注帝国CMS网站建设及模版制作 | www.henxue.net</title>
<link rel='stylesheet' id='main-css'  href='/skin/xiu/css/style.css' type='text/css' media='all' />
<link rel='canonical' href='帝国CMS修改信息列表页及信息内容页的分页样式' />
<meta name="keywords" content="" />
<meta name="description" content="帝国CMS修改信息列表页及信息内容页的分页样式" />
<!--[if lt IE 9]><script src="/skin/xiu/js/html5.js"></script><![endif]-->
</head>
<body>
<section class="container">
  <header class="header">
    <div class="logo"><a href="/" title="恨雪博客 - 专注帝国CMS网站建设及模版制作 | www.henxue.net">恨雪博客</a></div>
    <ul class="nav">
<li><a href="/" target="_self">首页</a></li>
<li><a class='current'  href="/tutorials/" target="_blank">帝国教程</a></li>
<li><a   href="/template/" target="_blank">帝国模版</a></li>
<li><a   href="/plug/" target="_blank">插件模块</a></li>
<li><a   href="/news/" target="_blank">业界新闻</a></li>
<li><a   href="/website/" target="_blank">建站相关</a></li>
<li><a   href="/design/" target="_blank">前端设计</a></li>
<li><a   href="/lnmpa/" target="_blank">LNMPA</a></li>
<li><a   href="/seo/" target="_blank">SEO</a></li>
<li><a   href="/blog/" target="_blank">网络日志</a></li>
    
    </ul>
    <div class="feeds"> <a class="feed feed-rss" rel="external nofollow" href="http://feed.feedsky.com/hengxue" title="Feed订阅恨雪博客" target="_blank">订阅</a> <a class="feed feed-weibo" rel="external nofollow" href="http://weibo.com/hongrongshun" title="关注博主新浪微博" target="_blank">新浪微博</a> <a class="feed feed-tqq" rel="external nofollow" href="http://t.qq.com/rosonho" title="关注博主腾讯微博" target="_blank">腾讯微博</a> <a class="feed feed-weixin" rel="external nofollow" href="javascript:;">关注微信</a> </div>
    <div class="slinks">QQ:415245871</div>
  </header>
  <div class="content-wrap">
    <div class="content">
      <header class="article-header">
        <h1 class="article-title"><a href="/article/81.html">帝国CMS修改信息列表页及信息内容页的分页样式</a></h1>
        <ul class="article-meta">
          <li>henxue 发布于 4小时前</li>
          <li>分类：<a href="/tutorials/" title="查看帝国教程中的全部文章" rel="category tag">帝国教程</a></li>
          <li class="post-views">阅读(<script src=/e/public/ViewClick/?classid=1&id=81&addclick=1></script>)</li>
          <li><a href="#pinglun" title="去发表你的看法">评论</a></li>
          <li></li>
        </ul>
      </header>
      <article class="article-content">			<p>用帝国仿站的朋友可能经常遇到这样的问题，在很成功的仿制一个站的页面的时候，到分页这边我们习惯用[!--show.listpage--]（列表页模板）和（内容页模板）来替换原网站的分页。如果很幸运的话，你做出来的效果可能和原网站一样，如果很不幸，可能就差很多。那么这到底是什么原因呢？原因很简单，就是帝国默认的[!--show.listpage--]（列表页模板）和（内容页模板）的样式和原网站的样式不一样，那要怎么修改成和原网站一样呢？解决办法有两种，但是这里我主要不是教你如何解决这个问题，而是教你如何去认识帝国的一些底层的核心文件及如何去修改它们，以达到你想要的效果。</p><h2>自己修改帝国分页标签默认的样式</h2><p>这个在帝国论坛有很多人提供了不少的分页样式，只需要在内容模板或者列表模板里面加入就可以了。这样做的好处是你不用去改动帝国的核心文件，方便以后升级。当然，这样做的话你永远也不知道这是什么原理，可以说是知其然不知其所以然。</p><h2>动手去修改帝国的分页样式</h2><p>这里说一下，一般情况下，【e】目录下的文件都算是帝国的核心文件，新手朋友在不了解该目录下的文件及文件夹的作用的时候，建议不要修改或删除。<a href="http://www.henxue.net/doc/manual/extend/html/syspath.html">点击这里查看帝国CMS目录结构介绍</a><br />帝国的分页样式在e&gt;class&gt;下的t_functions.php这个文件里，我稍微介绍一下这个文件里我们要修改的代码。红色的字体就是我们改样式的时候会涉及到的代码。<br />列表页模板[!--show.page--]:分页导航(下拉式)  大概在1-88行</p><blockquote><p> //列表模板分页函数<br />function sys_ShowListPage($num,$pagenum,$dolink,$dotype,$page,$lencord,$ok,$search=&#8221;"){<br />global $fun_r;<br />//首页<br />if($pagenum&lt;&gt;1)<br />{<br /><span style="background-color: #ff0000;">$pagetop=&#8221;&lt;a href=&#8217;&#8221;.$dolink.&#8221;index&#8221;.$dotype.&#8221;&#8216;&gt;&#8221;.$fun_r['startpage'].&#8221;&lt;/a&gt;&amp;nbsp;&amp;nbsp;&#8221;;</span><br />}<br />else<br />{<br />$pagetop=$fun_r['startpage'].&#8221;&amp;nbsp;&amp;nbsp;&#8221;;<br />}<br />//上一页<br />if($pagenum&lt;&gt;1)<br />{<br />$pagepr=$pagenum-1;<br />if($pagepr==1)<br />{<br />$prido=&#8221;index&#8221;.$dotype;<br />}<br />else<br />{<br />$prido=&#8221;index_&#8221;.$pagepr.$dotype;<br />}<br /><span style="background-color: #ff0000;"> $pagepri=&#8221;&lt;a href=&#8217;&#8221;.$dolink.$prido.&#8221;&#8216;&gt;&#8221;.$fun_r['pripage'].&#8221;&lt;/a&gt;&amp;nbsp;&amp;nbsp;&#8221;;</span><br />}<br />else<br />{<br />$pagepri=$fun_r['pripage'].&#8221;&amp;nbsp;&amp;nbsp;&#8221;;<br />}<br />//下一页<br />if($pagenum&lt;&gt;$page)<br />{<br />$pagenex=$pagenum+1;<br /><span style="background-color: #ff0000;"> $pagenext=&#8221;&lt;a href=&#8217;&#8221;.$dolink.&#8221;index_&#8221;.$pagenex.$dotype.&#8221;&#8216;&gt;&#8221;.$fun_r['nextpage'].&#8221;&lt;/a&gt;&amp;nbsp;&amp;nbsp;&#8221;;</span><br />}<br />else<br />{<br />$pagenext=$fun_r['nextpage'].&#8221;&amp;nbsp;&amp;nbsp;&#8221;;<br />}<br />//尾页<br />if($pagenum==$page)<br />{<br />$pageeof=$fun_r['lastpage'];<br />}<br />else<br />{<br /><span style="background-color: #ff0000;">  $pageeof=&#8221;&lt;a href=&#8217;&#8221;.$dolink.&#8221;index_&#8221;.$page.$dotype.&#8221;&#8216;&gt;&#8221;.$fun_r['lastpage'].&#8221;&lt;/a&gt;&#8221;;</span><br />}<br />$options=&#8221;";<br />//取得下拉页码<br />if(empty($search))<br />{<br />for($go=1;$go&lt;=$page;$go++)<br />{<br />if($go==1)<br />{$file=&#8221;index&#8221;.$dotype;}<br />else<br />{$file=&#8221;index_&#8221;.$go.$dotype;}<br />if($ok==$go)<br />{$select=&#8221; selected&#8221;;}<br />else<br />{$select=&#8221;";}<br /><span style="background-color: #ff0000;"> $myoptions.=&#8221;&lt;option value=&#8217;&#8221;.$dolink.$file.&#8221;&#8216;&gt;&#8221;.$fun_r['gotos'].$go.$fun_r['gotol'].&#8221;&lt;/option&gt;&#8221;;</span><br /><span style="background-color: #ff0000;"> $options.=&#8221;&lt;option value=&#8217;&#8221;.$dolink.$file.&#8221;&#8216;&#8221;.$select.&#8221;&gt;&#8221;.$fun_r['gotos'].$go.$fun_r['gotol'].&#8221;&lt;/option&gt;&#8221;;</span><br />}<br />}<br />else<br />{<br />$myoptions=$search;<br />$options=str_replace(&#8220;value=&#8217;&#8221;.$dolink.&#8221;index_&#8221;.$ok.$dotype.&#8221;&#8216;&gt;&#8221;,&#8221;value=&#8217;&#8221;.$dolink.&#8221;index_&#8221;.$ok.$dotype.&#8221;&#8216; selected&gt;&#8221;,$search);<br />}<br /><span style="background-color: #ff0000;"> $options=&#8221;&lt;select name=select onchange=&#8221;self.location.href=this.options[this.selectedIndex].value&#8221;&gt;&#8221;.$options.&#8221;&lt;/select&gt;&#8221;;</span><br />//分页<br />$pagelink=$pagetop.$pagepri.$pagenext.$pageeof;<br />//替换模板变量<br />$pager['showpage']=ReturnListpageStr($pagenum,$page,$lencord,$num,$pagelink,$options);<br />$pager['option']=$myoptions;<br />return $pager;<br />}</p></blockquote><p>列表页模板[!--show.listpage--]:分页导航(列表式) 在90-149行</p><blockquote><p>//列表模板之列表式分页<br />function sys_ShowListMorePage($num,$page,$dolink,$type,$totalpage,$line,$ok,$search=&#8221;"){<br />global $fun_r,$public_r;<br />if($num&lt;=$line)<br />{<br />$pager['showpage']=&#8221;;<br />return $pager;<br />}<br />$page_line=$public_r['listpagelistnum'];<br />$snum=2;<br />//$totalpage=ceil($num/$line);//取得总页数<br /><span style="background-color: #ff0000;">$firststr=&#8217;&lt;a title=&#8221;Total record&#8221;&gt;&amp;nbsp;&lt;b&gt;&#8217;.$num.&#8217;&lt;/b&gt; &lt;/a&gt;&amp;nbsp;&amp;nbsp;&#8217;;</span><br />//上一页<br />if($page&lt;&gt;1)<br />{<br /><span style="background-color: #ff0000;"> $toppage=&#8217;&lt;a href=&#8221;&#8216;.$dolink.&#8217;index&#8217;.$type.&#8217;&#8221;&gt;&#8217;.$fun_r['startpage'].&#8217;&lt;/a&gt;&amp;nbsp;&#8217;;</span><br />$pagepr=$page-1;<br />if($pagepr==1)<br />{<br />$prido=&#8221;index&#8221;.$type;<br />}<br />else<br />{<br />$prido=&#8221;index_&#8221;.$pagepr.$type;<br />}<br /><span style="background-color: #ff0000;"> $prepage=&#8217;&lt;a href=&#8221;&#8216;.$dolink.$prido.&#8217;&#8221;&gt;&#8217;.$fun_r['pripage'].&#8217;&lt;/a&gt;&#8217;;</span><br />}<br />//下一页<br />if($page!=$totalpage)<br />{<br />$pagenex=$page+1;<br /><span style="background-color: #ff0000;">  $nextpage=&#8217;&amp;nbsp;&lt;a href=&#8221;&#8216;.$dolink.&#8217;index_&#8217;.$pagenex.$type.&#8217;&#8221;&gt;&#8217;.$fun_r['nextpage'].&#8217;&lt;/a&gt;&#8217;;</span><br /><span style="background-color: #ff0000;">  $lastpage=&#8217;&amp;nbsp;&lt;a href=&#8221;&#8216;.$dolink.&#8217;index_&#8217;.$totalpage.$type.&#8217;&#8221;&gt;&#8217;.$fun_r['lastpage'].&#8217;&lt;/a&gt;&#8217;;</span><br />}<br />$starti=$page-$snum&lt;1?1:$page-$snum;<br />$no=0;<br />for($i=$starti;$i&lt;=$totalpage&amp;&amp;$no&lt;$page_line;$i++)<br />{<br />$no++;<br />if($page==$i)<br />{<br /><span style="background-color: #ff0000;"> $is_1=&#8221;&lt;b&gt;&#8221;;</span><br /><span style="background-color: #ff0000;">   $is_2=&#8221;&lt;/b&gt;&#8221;;</span><br />}<br />elseif($i==1)<br />{<br /><span style="background-color: #ff0000;"> $is_1=&#8217;&lt;a href=&#8221;&#8216;.$dolink.&#8217;index&#8217;.$type.&#8217;&#8221;&gt;&#8217;;</span><br /><span style="background-color: #ff0000;">   $is_2=&#8221;&lt;/a&gt;&#8221;;</span><br />}<br />else<br />{<br /><span style="background-color: #ff0000;"> $is_1=&#8217;&lt;a href=&#8221;&#8216;.$dolink.&#8217;index_&#8217;.$i.$type.&#8217;&#8221;&gt;&#8217;;</span><br /><span style="background-color: #ff0000;">   $is_2=&#8221;&lt;/a&gt;&#8221;;</span><br />}<br />$returnstr.=&#8217;&amp;nbsp;&#8217;.$is_1.$i.$is_2;<br />}<br />$returnstr=$firststr.$toppage.$prepage.$returnstr.$nextpage.$lastpage;<br />$pager['showpage']=$returnstr;<br />return $pager;<br />}</p></blockquote><p>内容页模板:分页导航 在151-208行</p><blockquote><p>//返回内容分页<br />function sys_ShowTextPage($totalpage,$page,$dolink,$add,$type,$search=&#8221;"){<br />global $fun_r,$public_r;<br />if($totalpage==1)<br />{<br />return &#8221;;<br />}<br />$page_line=$public_r['textpagelistnum'];<br />$snum=2;<br />//$totalpage=ceil($num/$line);//取得总页数<br /><span style="background-color: #ff0000;"> $firststr=&#8217;&lt;a title=&#8221;Page&#8221;&gt;&amp;nbsp;&lt;b&gt;&#8217;.$page.&#8217;&lt;/b&gt;/&lt;b&gt;&#8217;.$totalpage.&#8217;&lt;/b&gt; &lt;/a&gt;&amp;nbsp;&amp;nbsp;&#8217;;</span><br />//上一页<br />if($page&lt;&gt;1)<br />{<br /><span style="background-color: #ff0000;"> $toppage=&#8217;&lt;a href=&#8221;&#8216;.$dolink.$add[filename].$type.&#8217;&#8221;&gt;&#8217;.$fun_r['startpage'].&#8217;&lt;/a&gt;&amp;nbsp;&#8217;;</span><br />$pagepr=$page-1;<br />if($pagepr==1)<br />{<br />$prido=$add[filename].$type;<br />}<br />else<br />{<br />$prido=$add[filename].&#8217;_&#8217;.$pagepr.$type;<br />}<br /><span style="background-color: #ff0000;"> $prepage=&#8217;&lt;a href=&#8221;&#8216;.$dolink.$prido.&#8217;&#8221;&gt;&#8217;.$fun_r['pripage'].&#8217;&lt;/a&gt;&#8217;;</span><br />}<br />//下一页<br />if($page!=$totalpage)<br />{<br />$pagenex=$page+1;<br /><span style="background-color: #ff0000;">$nextpage=&#8217;&amp;nbsp;&lt;a href=&#8221;&#8216;.$dolink.$add[filename].&#8217;_&#8217;.$pagenex.$type.&#8217;&#8221;&gt;&#8217;.$fun_r['nextpage'].&#8217;&lt;/a&gt;&#8217;;</span><br /><span style="background-color: #ff0000;">  $lastpage=&#8217;&amp;nbsp;&lt;a href=&#8221;&#8216;.$dolink.$add[filename].&#8217;_&#8217;.$totalpage.$type.&#8217;&#8221;&gt;&#8217;.$fun_r['lastpage'].&#8217;&lt;/a&gt;&#8217;;</span><br />}<br />$starti=$page-$snum&lt;1?1:$page-$snum;<br />$no=0;<br />for($i=$starti;$i&lt;=$totalpage&amp;&amp;$no&lt;$page_line;$i++)<br />{<br />$no++;<br />if($page==$i)<br />{<br /><span style="background-color: #ff0000;">$is_1=&#8221;&lt;b&gt;&#8221;;</span><br /><span style="background-color: #ff0000;">   $is_2=&#8221;&lt;/b&gt;&#8221;;</span><br />}<br />elseif($i==1)<br />{<br /><span style="background-color: #ff0000;"> $is_1=&#8217;&lt;a href=&#8221;&#8216;.$dolink.$add[filename].$type.&#8217;&#8221;&gt;&#8217;;</span><br /><span style="background-color: #ff0000;">   $is_2=&#8221;&lt;/a&gt;&#8221;;</span><br />}<br />else<br />{<br /><span style="background-color: #ff0000;"> $is_1=&#8217;&lt;a href=&#8221;&#8216;.$dolink.$add[filename].&#8217;_&#8217;.$i.$type.&#8217;&#8221;&gt;&#8217;;</span><br /><span style="background-color: #ff0000;">   $is_2=&#8221;&lt;/a&gt;&#8221;;</span><br />}<br />$returnstr.=&#8217;&amp;nbsp;&#8217;.$is_1.$i.$is_2;<br />}<br />$returnstr=$firststr.$toppage.$prepage.$returnstr.$nextpage.$lastpage;<br />return $returnstr;<br />}</p></blockquote><p>内容页模板:标题式分页导航 在210-242行</p><blockquote><p>//返回下拉式内容分页导航<br />function sys_ShowTextPageSelect($thispagenum,$dolink,$add,$filetype,$n_r){<br />if($thispagenum==1)<br />{<br />return &#8221;;<br />}<br />$titleselect=&#8221;;<br />for($j=1;$j&lt;=$thispagenum;$j++)<br />{<br />if($j==1)<br />{<br />$title=$add[title];<br />$plink=$add[filename].$filetype;<br />}<br />else<br />{<br />$k=$j-1;<br />$ti_r=explode(&#8216;[/!--empirenews.page--]&#8216;,$n_r[$k]);<br />if(count($ti_r)&gt;=2&amp;&amp;$ti_r[0])<br />{<br />$title=$ti_r[0];<br />}<br />else<br />{<br />$title=$add[title].&#8217;(&#8216;.$j.&#8217;)';<br />}<br />$plink=$add[filename].&#8217;_&#8217;.$j.$filetype;<br />}<br /><span style="background-color: #ff0000;"> $titleselect.=&#8217;&lt;option value=&#8221;&#8216;.$dolink.$plink.&#8217;?&#8217;.$j.&#8217;&#8221;&gt;&#8217;.$title.&#8217;&lt;/option&gt;&#8217;;</span><br />}<br /><span style="background-color: #ff0000;">$titleselect=&#8217;&lt;select name=&#8221;titleselect&#8221; onchange=&#8221;self.location.href=this.options[this.selectedIndex].value&#8221;&gt;&#8217;.$titleselect.&#8217;&lt;/select&gt;&#8217;;</span><br />return $titleselect;<br />}</p></blockquote><p>以上的代码可能新手会很难看懂，下面我就来个实例操作。<br />先来看一下我们要仿的网站列表页的分页</p><blockquote><p>&lt;div class=&#8221;page page_l&#8221;&gt;<br />&lt;ul&gt;<br />&lt;li class=&#8217;thisclass&#8217;&gt;1&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_2.html&#8221;&gt;2&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_3.html&#8221;&gt;3&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_4.html&#8221;&gt;4&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_5.html&#8221;&gt;5&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_6.html&#8221;&gt;6&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_7.html&#8221;&gt;7&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_8.html&#8221;&gt;8&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_9.html&#8221;&gt;9&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_10.html&#8221;&gt;10&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_11.html&#8221;&gt;11&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_12.html&#8221;&gt;12&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_2.html&#8221;&gt;下一页&lt;/a&gt;&lt;/li&gt;<br />&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_19.html&#8221;&gt;尾页&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;</p></blockquote><p>从这个源代码来看，我们只需要ul标签内的这些li标签就可以了。我们只需要复制&lt;li class=&#8217;thisclass&#8217;&gt;1&lt;/li&gt;和&lt;li&gt;&lt;a href=&#8221;http://www.henxue.net/article/index_2.html&#8221;&gt;2&lt;/a&gt;&lt;/li&gt;即可。&lt;li class=&#8217;thisclass&#8217;&gt;1&lt;/li&gt;是当前页面的意思。好吧，接下来我们就开始修改了，我不习惯也不喜欢下拉式的，我们就用[!--show.listpage--]:分页导航(列表式) 的吧，这个原网站是是用这种样式的。下面是我修改后的代码，我会逐一解释。</p><blockquote><p>//列表模板之列表式分页<br />function sys_ShowListMorePage($num,$page,$dolink,$type,$totalpage,$line,$ok,$search=&#8221;"){<br />global $fun_r,$public_r;<br />if($num&lt;=$line)<br />{<br />$pager['showpage']=&#8221;;<br />return $pager;<br />}<br />$page_line=$public_r['listpagelistnum'];<br />$snum=2;<br />//$totalpage=ceil($num/$line);//取得总页数<br /><span style="background-color: #ff0000;"> //$firststr=&#8217;&lt;a title=&#8221;Total record&#8221;&gt;&amp;nbsp;&lt;b&gt;&#8217;.$num.&#8217;&lt;/b&gt; &lt;/a&gt;&amp;nbsp;&amp;nbsp;&#8217;;  原网站没有总页数，所以我们把这一行注释掉</span><br />//上一页<br />if($page&lt;&gt;1)<br />{<br /><span style="background-color: #ff0000;">$toppage=&#8217;&lt;li&gt;&lt;a href=&#8221;&#8216;.$dolink.&#8217;index&#8217;.$type.&#8217;&#8221;&gt;&#8217;.$fun_r['startpage'].&#8217;&lt;/a&gt;&lt;/li&gt;&amp;nbsp;&#8217;;//原网站是用li标签的，所以我们在a标签外面加上li</span><br />$pagepr=$page-1;<br />if($pagepr==1)<br />{<br />$prido=&#8221;index&#8221;.$type;<br />}<br />else<br />{<br />$prido=&#8221;index_&#8221;.$pagepr.$type;<br />}<br /><span style="background-color: #ff0000;"> $prepage=&#8217;&lt;li&gt;&lt;a href=&#8221;&#8216;.$dolink.$prido.&#8217;&#8221;&gt;&#8217;.$fun_r['pripage'].&#8217;&lt;/a&gt;&lt;/li&gt;&#8217;;//原网站是用li标签的，所以我们在a标签外面加上li</span><br />}<br />//下一页<br />if($page!=$totalpage)<br />{<br />$pagenex=$page+1;<br /><span style="background-color: #ff0000;">$nextpage=&#8217;&amp;nbsp;&lt;li&gt;&lt;a href=&#8221;&#8216;.$dolink.&#8217;index_&#8217;.$pagenex.$type.&#8217;&#8221;&gt;&#8217;.$fun_r['nextpage'].&#8217;&lt;/a&gt;&lt;/li&gt;&#8217;;//原网站是用li标签的，所以我们在a标签外面加上li</span><br /><span style="background-color: #ff0000;">  $lastpage=&#8217;&amp;nbsp;&lt;li&gt;&lt;a href=&#8221;&#8216;.$dolink.&#8217;index_&#8217;.$totalpage.$type.&#8217;&#8221;&gt;&#8217;.$fun_r['lastpage'].&#8217;&lt;/a&gt;&lt;/li&gt;&#8217;;//原网站是用li标签的，所以我们在a标签外面加上li</span><br />}<br />$starti=$page-$snum&lt;1?1:$page-$snum;<br />$no=0;<br />for($i=$starti;$i&lt;=$totalpage&amp;&amp;$no&lt;$page_line;$i++)<br />{<br />$no++;<br />if($page==$i)<br />{<br /><span style="background-color: #ff0000;"> $is_1=&#8221;&lt;li class=&#8217;thisclass&#8217;&gt;&#8221;;//这边是当前页的样式，原网站是用li标签的，注意class只能用英文单引号</span><br /><span style="background-color: #ff0000;">   $is_2=&#8221;&lt;/li&gt;&#8221;;</span><br />}<br />elseif($i==1)<br />{<br /><span style="background-color: #ff0000;">$is_1=&#8217;&lt;li&gt;&lt;a href=&#8221;&#8216;.$dolink.&#8217;index&#8217;.$type.&#8217;&#8221;&gt;&#8217;;//原网站是用li标签的，所以我们在a标签外面加上li</span><br /><span style="background-color: #ff0000;">   $is_2=&#8221;&lt;/a&gt;&lt;/li&gt;&#8221;;//原网站是用li标签的，所以我们在a标签外面加上li</span><br />}<br />else<br />{<br /><span style="background-color: #ff0000;">$is_1=&#8217;&lt;li&gt;&lt;a href=&#8221;&#8216;.$dolink.&#8217;index_&#8217;.$i.$type.&#8217;&#8221;&gt;&#8217;;</span><br /><span style="background-color: #ff0000;">   $is_2=&#8221;&lt;/a&gt;&lt;/li&gt;&#8221;;//原网站是用li标签的，所以我们在a标签外面加上li</span><br />}<br />$returnstr.=&#8217;&amp;nbsp;&#8217;.$is_1.$i.$is_2;<br />}<br />$returnstr=$firststr.$toppage.$prepage.$returnstr.$nextpage.$lastpage;<br />$pager['showpage']=$returnstr;<br />return $pager;</p></blockquote><p>修改完以后，保存上传覆盖就ok了。改代码这种东西用文字还真不好表达，只能用例子大家多加琢磨了。内容页其实也是大同小异，代码是差不多的，这里我就不多加重复了。</p>		</article>
      <div class="article-social"> <a href="javascript:;" class="action" data-pid="5429" data-event="like"><i class="glyphicon glyphicon-thumbs-up"></i>赞 (<span>0</span>)</a> <a href="#pinglun" class="action" data-event="login"><i class="glyphicon glyphicon-comment"></i>评论</a> <span class="action action-share bdsharebuttonbox"> <i class="glyphicon glyphicon-share"></i>分享 (<span class="bds_count" data-cmd="count"></span>)
        <div class="action-popover">
          <div class="popover top in">
            <div class="arrow"></div>
            <div class="popover-content"><a class="bds_qzone" data-cmd="qzone"></a><a class="bds_tsina" data-cmd="tsina"></a><a class="bds_weixin" data-cmd="weixin"></a><a class="bds_tqq" data-cmd="tqq"></a><a class="bds_sqq" data-cmd="sqq"></a><a class="bds_renren" data-cmd="renren"></a></div>
          </div>
        </div>
        </span> </div>
      <div class="article-tags"><div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></div>
      <div class="relates">
        <h3 class="title"><strong>相关阅读</strong></h3>
        <ul>
         
        </ul>
      </div>
      <h3 class="title" id="pinglun"></h3>
      <!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread" data-category="1" data-thread-key="81" 
	data-title="帝国CMS修改信息列表页及信息内容页的分页样式" data-author-key="" data-url=""></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"henxue"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->
<!--<script>
		  function CheckPl(obj)
		  {
		  if(obj.saytext.value=="")
		  {
		  alert("您没什么话要说吗？");
		  obj.saytext.focus();
		  return false;
		  }
		  return true;
		  }
		  </script><form action="/e/pl/doaction.php" method="post" name="saypl" id="saypl" onsubmit="return CheckPl(document.saypl)">
<table width="100%" border="0" cellpadding="0" cellspacing="0" id="plpost">

<tr>
<td><table width="100%" border="0" cellpadding="0" cellspacing="0" class="title">
<tr>
<td><strong>发表评论</strong></td>
<td align="right"><a href="/e/pl/?classid=1&amp;id=81">共有<span><script type="text/javascript" src="/e/public/ViewClick/?classid=1&id=81&down=2"></script></span>条评论</a></td>
</tr>
</table>
<table width="100%" border="0" cellspacing="10" cellpadding="0">
<tr>
<td><table width="100%" border="0" cellpadding="0" cellspacing="2">
<tr>
<td width="56%" align="left">用户名:
<input name="username" type="text" class="inputText" id="username" value="" size="16" /></td>
<td width="44%" align="left">密码:
<input name="password" type="password" class="inputText" id="password" value="" size="16" /></td>
</tr>
<tr>
<td align="left">验证码:
<input name="key" type="text" class="inputText" size="10" />
<img src="/e/ShowKey/?v=pl" align="absmiddle" /> </td>
<td align="left"><input name="nomember" type="checkbox" id="nomember" value="1" checked="checked" />
匿名发表</td>
</tr>
</table>
<textarea name="saytext" rows="6" id="saytext"></textarea><input name="imageField" type="image" src="/e/data/images/postpl.gif"/>
<input name="id" type="hidden" id="id" value="81" />
<input name="classid" type="hidden" id="classid" value="1" />
<input name="enews" type="hidden" id="enews" value="AddPl" />
<input name="repid" type="hidden" id="repid" value="0" />
<input type="hidden" name="ecmsfrom" value="/article/81.html"></td>
</tr>
</table>
</td>
</tr>
</table></form>-->
    </div>
  </div>
  <aside class="sidebar">
    <div class="widget widget_tags">
      <h3 class="title"><strong>热门标签</strong></h3>
      <ul class="widget_tags_inner">
<li><a title="点击查看所有关于站长的文章" href="/tags/../../tags/zhanzhang/">站长</a></li>
<li><a title="点击查看所有关于谷歌的文章" href="/tags/../../tags/google/">谷歌</a></li>
<li><a title="点击查看所有关于百度的文章" href="/tags/../../tags/baidu/">百度</a></li>
 	  
      </ul>
    </div>
    <div class="widget widget_searchbox">
      <h3 class="title"><strong>搜索文章</strong></h3>
<form accept-charset="utf-8" method="get" action="http://www.baidu.com/baidu" target="_blank" class="search-form">
<input type="text" name="word" class="form-control" placeholder="输入关键字" autofocus="" x-webkit-speech="">
<input type="submit" class="btn" value="搜索" name="submit">
        <input type="hidden" value="baidulocal" name="tn">
        <input type="hidden" value="3" name="cl">
        <input type="hidden" value="2097152" name="ct">
        <input type="hidden" value="henxue.net" name="si">
      </form>     
    </div>
    <script src="/d/js/acmsd/thea1.js"></script>
    <div class="widget widget_postlist">
      <h3 class="title"><strong>最新文章</strong></h3>
      <ul>
        
<li><a href="/article/66.html"><span class="thumbnail"><img data-original="" class="thumb"/></span><span class="text">结合项在列表页调用内容字段名称</span><span class="text-muted post-views">阅读(0)</span></a></li>
        
<li><a href="/article/69.html"><span class="thumbnail"><img data-original="" class="thumb"/></span><span class="text">帝国CMS动态页分页标签[!---show.listpage--]的一</span><span class="text-muted post-views">阅读(0)</span></a></li>
        
<li><a href="/article/68.html"><span class="thumbnail"><img data-original="" class="thumb"/></span><span class="text">灵动标签中用if判断第X条附加特殊样式</span><span class="text-muted post-views">阅读(0)</span></a></li>
        
<li><a href="/article/71.html"><span class="thumbnail"><img data-original="" class="thumb"/></span><span class="text">帝国CMS列表模板过滤简介的Html代码</span><span class="text-muted post-views">阅读(0)</span></a></li>
        
<li><a href="/article/70.html"><span class="thumbnail"><img data-original="" class="thumb"/></span><span class="text">帝国CMS修改列表页中当前分页的显示方式</span><span class="text-muted post-views">阅读(0)</span></a></li>
        
<li><a href="/article/73.html"><span class="thumbnail"><img data-original="" class="thumb"/></span><span class="text">帝国CMS中$navinfor和$GLOBALS的一些使用小技巧</span><span class="text-muted post-views">阅读(0)</span></a></li>
  	  
      </ul>
    </div>
  </aside>  
  <footer class="footer"> &copy; 2014 <a href="/">恨雪博客</a> &nbsp; 感谢 <a href="http://www.alibaixiu.com" target="_blank">阿里百秀</a> &nbsp; <a href="/sitemap.xml" target="_blank">网站地图</a> </footer>
  <div class="rollto"><a href="javascript:;"></a></div>
</section>
<script type='text/javascript' src='/skin/xiu/js/jquery.js?ver=1.0.1'></script> 
<script type='text/javascript' src='/skin/xiu/js/bootstrap.js?ver=1.0.1'></script> 
<script type='text/javascript' src='/skin/xiu/js/custom.js?ver=1.0.1'></script>
</body>
</html>